<div class="div-body-content">
    <div class="container text-center">
        <div class="row">
            <div class="col-12" id="grid-title">
                <div class="div-text-title"><h5>การวิเคราะห์ความซึมเศร้า</h5></div>
            </div>
        </div>
        <div class="row">
            <div class="col-12" id="div-analysis-result">
                <h6>ผลการวิเคราะห์ :</h6>
                <h6 class="result-<%= @risk_result[0] %>"><%= @risk_result[1] %></h6>
            </div>
        </div>
        <div class="row">
            <div class="col-12" id="div-grid-graph">
                <div class="btn-group" data-controller="analysis">
                    <%= button_tag "Today", type: "button", class: "btn btn-range-graph active", id: "graph-btn-today", 'aria-current': "page", data: {action: "click->analysis#today"} %>
                    <%= button_tag "Week", type: "button", class: "btn btn-range-graph", id: "graph-btn-week", data: {action: "click->analysis#week"}  %>
                    <%= button_tag "Month", type: "button", class: "btn btn-range-graph", id: "graph-btn-month", data: {action: "click->analysis#month"}  %>
                </div>

                <div class="line-graph" id="line-graph" style="margin-top: 50px;">
                    <%= render "graph" %>
                </div>
            </div>
        </div>

        <% if @current_user["role"] != 2 %>
        <%# <div class="row"> %>
            <%= render partial: "table", locals: {user: @user, teacher: @current_user, risk_result: @risk_result, risk_student_result: @risk_student_result} %>
        <%# </div> %>
        <% end %>
        <%= hidden_field(:selected_user_id, :user_graph, id: "selected_user") %>
    </div>     
</div>


<%# <script type="text/javascript">
    function set_selected_student(that){
        var selected_user = document.getElementById("selected_user");
        selected_user.value = that.value;
    }
</script> %>